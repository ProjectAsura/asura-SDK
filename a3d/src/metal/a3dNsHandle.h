//-----------------------------------------------------------------------------
// File : a3dNsHandle.h
// Desc : NSObject Holder.
// Copyright(c) Project Asura. All right reserved.
//-----------------------------------------------------------------------------

namespace a3d {

///////////////////////////////////////////////////////////////////////////////
// NsHandle class
///////////////////////////////////////////////////////////////////////////////
class NsHandle
{
    //=========================================================================
    // list of friend classes and methods.
    //=========================================================================
    /* NOTHING */

public:
    //=========================================================================
    // public variables.
    //=========================================================================
    /* NOTHING */

    //=========================================================================
    // public methods
    //=========================================================================

    //-------------------------------------------------------------------------
    //! @brief      コンストラクタです.
    //-------------------------------------------------------------------------
    NsHandle();

    //-------------------------------------------------------------------------
    //! @brief      デストラクタです.
    //-------------------------------------------------------------------------
    ~NsHandle();

    //-------------------------------------------------------------------------
    //! @brief      参照カウントを増やします.
    //-------------------------------------------------------------------------
    void AddRef();

    //-------------------------------------------------------------------------
    //! @brief      参照カウントを減らします.
    //-------------------------------------------------------------------------
    void Release();

    //-------------------------------------------------------------------------
    //! @brief      参照カウントを取得します.
    //!
    //! @return     参照カウントを返却します.
    //-------------------------------------------------------------------------
    int  GetRefCount();

    //-------------------------------------------------------------------------
    //! @brief      オブジェクトを設定します.
    //!
    //! @note       参照カウントは増えません.
    //-------------------------------------------------------------------------
    void SetPtr(const void* value);

    //-------------------------------------------------------------------------
    //! @brief      オブジェクトを取得します.
    //!
    //! @return     オブジェクトを返却します.
    //-------------------------------------------------------------------------
    const void* GetPtr() const;

private:
    //=========================================================================
    // private variables.
    //=========================================================================
    const void* m_Ptr = nullptr;

    //=========================================================================
    // private methods.
    //=========================================================================
    /* NOTHING */
}

} // namespace a3d